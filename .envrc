watch_file shell.nix

if [[ "$(uname)" == "Darwin" ]]; then
  # Mac uses Determinate, so use the local flake devShell
  watch_file modules/outputs/devShells.nix
  use flake
elif [[ "$(uname)" == "Linux" ]]; then
  # I keep my local flake registry mirrored to my flake inputs, so a traditional shell works
  use nix
fi 