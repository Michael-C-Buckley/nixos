apiVersion: v1
kind: ConfigMap
metadata:
  name: forgejo-config
  namespace: forgejo
data:
  # PostgreSQL connection details - using host network
  FORGEJO__database__DB_TYPE: "postgres"
  FORGEJO__database__HOST: "192.168.63.5:5432"
  FORGEJO__database__NAME: "forgejo"
  FORGEJO__database__USER: "forgejo"
  # Note: Using trust auth from postgres config, no password needed
  
  # Server settings
  FORGEJO__server__DOMAIN: "forgejo.michael.lan"
  FORGEJO__server__HTTP_PORT: "3000"
  FORGEJO__server__ROOT_URL: "http://forgejo.michael.lan:3000/"
  FORGEJO__server__SSH_DOMAIN: "forgejo.michael.lan"
  FORGEJO__server__SSH_PORT: "2222"
  
  # Service settings
  FORGEJO__service__DISABLE_REGISTRATION: "true"
  FORGEJO__service__REQUIRE_SIGNIN_VIEW: "false"
  
  # Actions
  FORGEJO__actions__ENABLED: "true"
  
  # Mailer
  FORGEJO__mailer__ENABLED: "false"
  
  # Repository
  FORGEJO__repository__DEFAULT_PRIVATE: "private"
  
  # Log
  FORGEJO__log__LEVEL: "Info"
